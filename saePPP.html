<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Mon portfolio</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="saePPP.css">
        <link rel="stylesheet" href="frise.css">
        <script>
            function ouvrir() {
                var divliens = document.getElementById("liensSlide");
                var burgerSlide = document.getElementById("menuSlide");
                var burgerButton = document.querySelector(".menu-btn");
                var propBtn = getComputedStyle(burgerButton);
                var proprietesSlide = getComputedStyle(burgerSlide);
                var opacityNow = proprietesSlide.opacity;
                gauche = proprietesSlide.left;
                burgerSlide.animate([
                { // from
                    left: gauche,
                    opacity : opacityNow
                },
                { // to
                    left: 0,
                    opacity : 1
                }
                ], 400);
                divliens.style.marginTop = propBtn.height;
                burgerSlide.style.left = 0;
                burgerSlide.style.opacity = 1;
               
            }
            window.onscroll = function(e) {
                const elts = document.querySelectorAll(".bulle");
                Array.from(elts).forEach((element,index) => 
                {
                    var positions = elementPosition(element);
                    
                    if(this.scrollY >= (positions.clientY-50) && this.scrollY <= positions.clientY+element.offsetHeight+50)
                    {
                        console.log(element.offsetHeight + 'Taille du elt');
                        console.log(positions.clientY + 'position de lelt');
                        element.style.paddingTop = '400px';
                    }
                    else {
                        element.style.paddingTop = '0px';
                    }
                })
            }
            
            function elementPosition (a) {
            var b = a.getBoundingClientRect();
            return {
                clientX: a.offsetLeft,
                clientY: a.offsetTop,
                viewportX: (b.x || b.left),
                viewportY: (b.y || b.top)
            }
            }
            
            function fermer() {
                var burgerSlide = document.getElementById("menuSlide");
                var larg = burgerSlide.offsetWidth;
                var proprietesSlide = getComputedStyle(burgerSlide);
                var opacityNow = proprietesSlide.opacity;
                gauche = proprietesSlide.left;
                burgerSlide.animate([
                { // from
                    left: gauche,
                    opacity : opacityNow
                },
                { // to
                    left: -larg+'px',
                    opacity : 0
                }
                ], 400);
                burgerSlide.style.left = -larg+'px';
                burgerSlide.style.opacity = 0;
            }
        </script>
    </head>
    <body>
        <div class="menu-btn">
            <div class="menu-btn__burger"><a></a></div>
        </div>
        <script>
            const menuBtn = document.querySelector('.menu-btn');
            let menuOpen = false;
            let afficher = false;
            menuBtn.addEventListener('click', () => {
            if(!menuOpen) {
                menuBtn.classList.add('open');
                menuOpen = true;
                ouvrir();
                afficher = true;
            } else {
                menuBtn.classList.remove('open');
                menuOpen = false;
                fermer();
                afficher = false;
            }
            });
        </script>
        <section id="menuSlide">
            <ul id="liensSlide">
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
                <li>Projet 1</li>
            </ul>
        </section>
        <section class="decoupage" id="P1">
            <div id="P1APropos">
                <h1>A propos de moi</h1>
                <p>

                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nec suscipit nisi. Praesent consectetur ultricies leo, vitae aliquet orci feugiat sit amet. Mauris vel odio eros. Praesent non venenatis justo. Nunc egestas felis a ante consectetur pulvinar. Integer feugiat velit in scelerisque tincidunt. Curabitur in vulputate metus. Morbi sed nisl lacus. Donec aliquam lacinia fringilla. Nulla sit amet quam ut mi condimentum facilisis eu in urna.
                    
                    Cras in vestibulum lectus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas fermentum nulla et metus laoreet fermentum. Etiam imperdiet rutrum justo, eu euismod nibh gravida eget. Curabitur quis hendrerit tortor, non scelerisque ante. Fusce sit amet pretium erat. Pellentesque non lectus vel velit ornare placerat. Sed in porta odio. Aliquam erat volutpat. Mauris in lorem consectetur, bibendum leo ac, scelerisque diam. Morbi volutpat massa mattis nibh consequat mollis.
                    
                    Ut nibh eros, efficitur id lacus ac, posuere viverra quam. Maecenas maximus dictum lacus eu ultrices. Donec eget lacus ipsum. Phasellus et ornare ipsum, vel cursus turpis. Nam sed imperdiet turpis, et aliquam enim. Curabitur imperdiet auctor erat, non sodales mi faucibus sed. Nullam efficitur nisl id est vestibulum volutpat. In blandit blandit massa in faucibus. Etiam sit amet ligula venenatis, pharetra sapien at, maximus nulla. Praesent sed venenatis est. Duis convallis volutpat ipsum a dictum. Phasellus a fermentum lectus.
                    
                    Duis nulla quam, imperdiet imperdiet facilisis at, suscipit tempus lacus. In ullamcorper tellus at volutpat aliquam. Sed facilisis, lorem eget eleifend ornare, mi lectus tincidunt velit, quis blandit felis erat id velit. Nunc ac risus eu lorem accumsan laoreet quis laoreet augue. Vestibulum elementum risus auctor nisl fermentum, ut aliquet velit tristique. Ut felis lectus, dignissim vitae urna ut, accumsan cursus massa. Ut tempor ipsum a sem laoreet eleifend. Donec venenatis vulputate augue. Fusce vitae eros turpis. Nunc tincidunt justo vel ligula condimentum, et porta justo rutrum.
                    
                    Etiam sed commodo velit. Nam volutpat lacinia purus et iaculis. Cras maximus semper pellentesque. Vestibulum luctus sagittis consequat. Phasellus vehicula lobortis nunc, quis scelerisque metus fermentum vitae. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Ut a ligula tempus dui tincidunt vulputate. Vivamus et facilisis dolor. Sed sed aliquam ipsum, nec euismod urna. Phasellus vel enim eu nulla suscipit varius. Nunc suscipit nunc neque, ac hendrerit libero porta in. </p>
            </div>
            <div id="P1Photo">
                <img id="maPhoto" src="robotHolo.png">
            </div>
        </section>
        <section class="decoupage" id="P2">
            <h1>Frise des projets</h1>
            <div id="friseSup">
                <div id="frise">
                    <div class="bulle"></div>
                    <div class="bulle"></div>
                    <div class="bulle"></div>
                    <div class="bulle"></div>
                    <div class="bulle"></div>
                    <div class="bulle"></div>
                    <div class="bulle"></div>
                </div>
                
            </div>
            
        </section>
        <footer>
            <a href="">Contact</a>
            <a href="#top">Acceuil</a>
        </footer>
    </body>
</html>